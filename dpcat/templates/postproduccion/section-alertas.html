{% extends "postproduccion/base-2-1.html" %}

{% block page-title %}Alertas del sistema{% endblock %}
{% block section-class %} {% endblock %}
{% block section-title %}<h1>Alertas del sistema</h1>{% endblock %}
{% block section-description %}<p>Alertas producidas por el sistema que requieren atenci&oacute;n del usuario.</p>{% endblock %}

{% block section-content %} 

<ul id="lista-alertas">
{% for i in lista %}
    {% if i.tipo == 'video-incompleto' %}
    <li class="{{ i.tipo }}">
        <ul class="item-alerta">
            <li><span class="item-alerta-title">T&iacute;tulo de la producci&oacute;n:</span>{{ i.v.titulo }} </li>
            <li><span class="item-alerta-title">Identificador:</span> {{ i.v.id }} </li>
            <li><span class="item-alerta-title">Descripci&oacute;n de la alerta:</span>
            <span class="item-alerta-content">No se ha terminado de definir.</span></li>
            <li class="item-alerta-links"><a class="edit-icon" href="{% url crear i.v.id %}">Editar v&iacute;deo</a></li>
        </ul> 
    </li>
    {% endif %}

    {% if i.tipo == 'trabajo-fail' %}
    <li class="{{ i.tipo }}">
         <ul class="item-alerta">
            <li><span class="item-alerta-title">T&iacute;tulo de la producci&oacute;n:</span>{{ i.t.video.titulo }} </li>
            <li><span class="item-alerta-title">Identificador:</span> {{ i.t.id }} </li>
            <li><span class="item-alerta-title">Descripci&oacute;n de la alerta:</span>
            <span class="item-alerta-content">La operaci&oacute;n realizada sobre esta producci&oacute;n ha fallado.</span></li>
            <li class="item-alerta-links"><a href="{% url cola%}">Cola de procesado</a><a href="{% url mostrar_log i.t.id %}">Registro del sistema de la operaci&oacute;n</li>
        </ul> 
    {% endif %}

    {% if i.tipo == 'token-caducado' %}
    <li class="{{ i.tipo }}">El ticket envíado al autor del vídeo #{{ i.t.video.id }} con título "{{ i.t.video.titulo }}" se ha caducado sin ser atendido.</li>
    {% endif %}

    {% if i.tipo == 'ejecutable' %}
    <li class="{{ i.tipo }}">No se puede ejecutar el programa '{{ i.exe }}'. (<a href="{% url config %}">Ver configuraci&oacute;n</a>)</li>
    {% endif %}

    {% if i.tipo == 'ruta' %}
    <li class="{{ i.tipo }}">Permiso denegado sobre el directorio '{{ i.path }}'. (<a href="{% url config %}">Ver configuraci&oacute;n</a>)</li>
    {% endif %}

    {% if i.tipo == 'disco' %}
    <li class="{{ i.tipo }}">El sistema de ficheros que del directorio '{{ i.path }}' está próximo a quedarse sin espacio ({{ i.cap }}). (<a href="{% url config %}">Ver configuraci&oacute;n</a>)</li>
    {% endif %}

    {% if i.tipo == 'cron' %}
    <li class="{{ i.cron }}">Las tareas programadas están desactivadas, no se codificar&aacute; ning&uacute;n v&iacute;deo hasta que se activen. (<a href="{% url status %}">Ver estado</a>)</li>
    {% endif %}

    {% empty %}
        <div class="mensaje verde">No existe ninguna alerta en el sistema</div></li>
{% endfor %}
</ul>

{% endblock %}

{% block section-widget %}
    <div id="content-right">
        <div id="right-block">
            <h3>Informaci&oacute;n de inter&eacute;s</h3>
            <ul>
                <li class="tip">Poner descripci&oacute;n o enlaces sobre esta tabla</li>
            </ul>
        </div>
    </div>
{% endblock %}





